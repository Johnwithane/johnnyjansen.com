<!-- Remoose Section -->
<section id="remoose" class="remoose-section">
    <!-- Background Grid -->
    <div class="remoose-background-grid" id="background-grid"></div>
    <div class="remoose-overlay"></div>

    <div class="container">
        <!-- Logo Section -->
        <div class="remoose-logo">
            <img src="https://remoose.com/static/images/logo.png" alt="Remoose Logo" id="remoose-logo">
        </div>

        <!-- Main Content -->
        <div class="remoose-main-content">
            <!-- Left Side Card -->
            <div class="remoose-info-card">
                <h3>Remoose</h3>
                <p>Remoose is a collaborative animation platform that lets creators remix and build on each other's work. It's democratizing animation by making it accessible, social, and fun.</p>
                <p>I serve as a strategic advisor and creative consultant, helping shape the platform's vision and user experience while connecting the team with key industry players.</p>
                <span class="role-badge">Strategic Advisor & Creative Consultant</span>
            </div>

            <!-- Right Side Demo -->
            <div class="remoose-demo">
                <div class="demo-cta">
                    <h4>Remix This Scene</h4>
                    <p>Join the party and create your own version!</p>
                </div>
                <div class="scene-demo" id="demo-scene">
                    <img id="scene-image" src="" alt="Remix this scene">
                    <div class="scene-overlay">
                        <div class="play-button">â–¶</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Children Grid Section -->
        <div class="remixes-section">
            <div class="remixes-header">
                <h3>See Your Remix Here</h3>
                <p>Watch how the community builds on this scene</p>
            </div>
            
            <div id="remixes-loading" class="loading">
                <div class="loading-spinner"></div>
                <p>Loading remixes...</p>
            </div>

            <div class="remixes-grid" id="remixes-grid" style="display: none;">
                <!-- Dynamic content will be inserted here -->
            </div>
        </div>
    </div>

    <script>
        class RemooseOverhaul {
            constructor() {
                this.sceneID = 'nYZTpZddGz2tSCtsocBBT4';
                this.baseUrl = 'https://remoose.com';
                this.sceneData = null;
                this.childrenData = [];
                
                this.init();
            }

            async init() {
                try {
                    await this.loadBackgroundScenes();
                    await this.loadMainScene();
                    await this.loadChildrenScenes();
                    this.setupEventListeners();
                } catch (error) {
                    console.error('Failed to load Remoose data:', error);
                    this.showError();
                }
            }

            async loadBackgroundScenes() {
                try {
                    const response = await fetch('https://remoose.com/api/scene/recent?filter_by_user=true&username=03beeeed-f188-4183-ae85-abc09e3cca9e&page=1');
                    const scenes = await response.json();
                    this.renderBackgroundGrid(scenes);
                } catch (error) {
                    console.error('Failed to load background scenes:', error);
                }
            }

            renderBackgroundGrid(scenes) {
                const backgroundGrid = document.getElementById('background-grid');
                backgroundGrid.innerHTML = '';

                const screenWidth = window.innerWidth;
                const screenHeight = window.innerHeight;
                const itemSize = 150;
                const itemsNeeded = Math.ceil((screenWidth / itemSize) * (screenHeight / itemSize)) + 20;
                
                for (let i = 0; i < itemsNeeded; i++) {
                    const scene = scenes[i % scenes.length];
                    
                    const bgItem = document.createElement('a');
                    bgItem.className = 'remoose-bg-item';
                    bgItem.href = `${this.baseUrl}${scene.sceneURL}`;
                    bgItem.target = '_blank';
                    bgItem.rel = 'noopener noreferrer';
                    
                    const img = document.createElement('img');
                    img.src = scene.thumbnail || scene.webpURL || scene.pngURL;
                    img.alt = `Remoose Scene ${scene.id}`;
                    img.loading = 'lazy';
                    
                    bgItem.appendChild(img);
                    backgroundGrid.appendChild(bgItem);
                }
            }

            async loadMainScene() {
                try {
                    const response = await fetch(`https://remoose.com/api/scene/get/${this.sceneID}`);
                    this.sceneData = await response.json();
                    
                    const sceneImage = document.getElementById('scene-image');
                    sceneImage.src = this.sceneData.webpURL;
                    sceneImage.alt = 'Remix this scene';
                } catch (error) {
                    console.error('Failed to load main scene:', error);
                }
            }

            async loadChildrenScenes() {
                try {
                    const response = await fetch(`https://remoose.com/api/scene/children/${this.sceneID}`);
                    this.childrenData = await response.json();
                    this.renderChildrenGrid();
                } catch (error) {
                    console.error('Failed to load children scenes:', error);
                    this.showError();
                }
            }

            renderChildrenGrid() {
                const loading = document.getElementById('remixes-loading');
                const grid = document.getElementById('remixes-grid');
                
                loading.style.display = 'none';
                grid.style.display = 'grid';
                
                grid.innerHTML = '';

                if (this.childrenData.length === 0) {
                    grid.innerHTML = '<p style="color: rgba(255,255,255,0.8); text-align: center; grid-column: 1/-1;">No remixes yet - be the first!</p>';
                    return;
                }

                this.childrenData.forEach(scene => {
                    const remixItem = document.createElement('a');
                    remixItem.className = 'remix-item';
                    remixItem.href = `${this.baseUrl}${scene.sceneURL}`;
                    remixItem.target = '_blank';
                    remixItem.rel = 'noopener noreferrer';
                    
                    const img = document.createElement('img');
                    img.src = scene.webpURL || scene.thumbnail || scene.pngURL;
                    img.alt = `Remix by ${scene.username || 'Unknown'}`;
                    img.loading = 'lazy';
                    
                    img.onerror = () => {
                        img.src = scene.thumbnail || scene.pngURL;
                    };
                    
                    remixItem.appendChild(img);
                    grid.appendChild(remixItem);
                });
            }

            setupEventListeners() {
                const demoScene = document.getElementById('demo-scene');
                demoScene.addEventListener('click', () => {
                    if (this.sceneData) {
                        window.open(`${this.baseUrl}${this.sceneData.sceneURL}`, '_blank');
                    }
                });
            }

            showError() {
                const loading = document.getElementById('remixes-loading');
                loading.innerHTML = '<p style="color: #FF6B6B;">Failed to load remixes. Please try again later.</p>';
            }
        }

        // Initialize when the section is loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                setTimeout(() => new RemooseOverhaul(), 100);
            });
        } else {
            setTimeout(() => new RemooseOverhaul(), 100);
        }
    </script>
</section>